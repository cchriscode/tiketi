# ğŸ« TIKETI - ì´ë²¤íŠ¸ í‹°ì¼“ ì˜ˆë§¤ í”Œë«í¼

> MSA ê¸°ë°˜ ì‹¤ì‹œê°„ í‹°ì¼“ ì˜ˆë§¤ ì‹œìŠ¤í…œ with Kubernetes & GitOps

[![Kubernetes](https://img.shields.io/badge/Kubernetes-1.28+-326CE5?logo=kubernetes&logoColor=white)](https://kubernetes.io/)
[![ArgoCD](https://img.shields.io/badge/ArgoCD-GitOps-F05032?logo=argo&logoColor=white)](https://argoproj.github.io/cd/)
[![Node.js](https://img.shields.io/badge/Node.js-18+-339933?logo=node.js&logoColor=white)](https://nodejs.org/)
[![React](https://img.shields.io/badge/React-18.2-61DAFB?logo=react&logoColor=black)](https://reactjs.org/)

## ğŸ“– ëª©ì°¨

- [ì†Œê°œ](#-ì†Œê°œ)
- [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
- [ë¹ ë¥¸ ì‹œì‘](#-ë¹ ë¥¸-ì‹œì‘)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#-í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [API ë¬¸ì„œ](#-api-ë¬¸ì„œ)
- [ëª¨ë‹ˆí„°ë§](#-ëª¨ë‹ˆí„°ë§)
- [ë°°í¬](#-ë°°í¬)
- [ë¬¸ì„œ](#-ë¬¸ì„œ)
- [ê¸°ì—¬](#-ê¸°ì—¬)

---

## ğŸ¯ ì†Œê°œ

**TIKETI**ëŠ” ì½˜ì„œíŠ¸, ë®¤ì§€ì»¬, ìŠ¤í¬ì¸  ê²½ê¸° ë“± ë‹¤ì–‘í•œ ì´ë²¤íŠ¸ì˜ í‹°ì¼“ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì˜ˆë§¤í•  ìˆ˜ ìˆëŠ” í‹°ì¼€íŒ… í”Œë«í¼ì…ë‹ˆë‹¤.

### í•µì‹¬ íŠ¹ì§•

- âœ¨ **Hybrid MSA Architecture**: API Gateway + 4ê°œ ë…ë¦½ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤
- ğŸš€ **GitOps with ArgoCD**: ì„ ì–¸ì  ë°°í¬ ë° ìë™ ë™ê¸°í™”
- ğŸ”„ **Real-time Sync**: WebSocket ê¸°ë°˜ ì‹¤ì‹œê°„ ì¢Œì„ ìƒíƒœ ë™ê¸°í™”
- ğŸ“Š **Full Observability**: Prometheus, Grafana, Loki í†µí•© ëª¨ë‹ˆí„°ë§
- â˜ï¸ **Cloud Native**: Kubernetes (EKS) & AWS ì„œë¹„ìŠ¤ ì™„ì „ í™œìš©
- ğŸ” **Secure by Default**: JWT ì¸ì¦, Secret ê´€ë¦¬, HTTPS
- âš¡ **High Performance**: Redis ìºì‹±, Connection Pooling, HPA

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### ì‚¬ìš©ì ê¸°ëŠ¥
- ğŸ” **íšŒì› ì¸ì¦**: JWT ê¸°ë°˜ ë¡œê·¸ì¸/íšŒì›ê°€ì…
- ğŸ” **ì´ë²¤íŠ¸ ê²€ìƒ‰**: ì¹´í…Œê³ ë¦¬, ë‚ ì§œ, ì¥ì†Œë³„ ê²€ìƒ‰
- ğŸª‘ **ì‹¤ì‹œê°„ ì¢Œì„ ì„ íƒ**: WebSocket ê¸°ë°˜ ì¢Œì„ ìƒíƒœ ì‹¤ì‹œê°„ ë™ê¸°í™”
- â³ **ëŒ€ê¸°ì—´ ì‹œìŠ¤í…œ**: Redis ê¸°ë°˜ ê³µì •í•œ í‹°ì¼“íŒ… ëŒ€ê¸°ì—´
- ğŸ’³ **ë‹¤ì–‘í•œ ê²°ì œ ìˆ˜ë‹¨**: Toss Payments, Naver Pay, Kakao Pay ë“±
- ğŸ“± **ì˜ˆì•½ ê´€ë¦¬**: ë‚´ ì˜ˆì•½ ì¡°íšŒ, ì·¨ì†Œ, í™˜ë¶ˆ

### ê´€ë¦¬ì ê¸°ëŠ¥
- ğŸ“Š **ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ**: ë§¤ì¶œ, ì˜ˆì•½, ì´ë²¤íŠ¸ í†µê³„
- ğŸ­ **ì´ë²¤íŠ¸ ê´€ë¦¬**: ìƒì„±, ìˆ˜ì •, ì‚­ì œ, ì¢Œì„ ë°°ì¹˜
- ğŸ‘¥ **ì˜ˆì•½ ê´€ë¦¬**: ì „ì²´ ì˜ˆì•½ ì¡°íšŒ, ìƒíƒœ ë³€ê²½
- ğŸ“ˆ **í†µê³„ ë¶„ì„**: ì¼ë³„/ì‹œê°„ë³„ ë§¤ì¶œ, ì „í™˜ìœ¨, ê²°ì œ ìˆ˜ë‹¨ë³„ ë¶„ì„
---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Frontend
![React](https://img.shields.io/badge/React-18.2-61DAFB?logo=react&logoColor=black)
![Socket.IO](https://img.shields.io/badge/Socket.IO-4.7-010101?logo=socket.io)
![Recharts](https://img.shields.io/badge/Recharts-3.6-22B5BF)
![Axios](https://img.shields.io/badge/Axios-1.6-5A29E4)

- **React 18.2** - UI í”„ë ˆì„ì›Œí¬
- **React Router 6** - í´ë¼ì´ì–¸íŠ¸ ë¼ìš°íŒ…
- **Socket.IO Client** - ì‹¤ì‹œê°„ í†µì‹ 
- **Recharts** - ë°ì´í„° ì‹œê°í™”
- **Toss Payments SDK** - ê²°ì œ ì—°ë™

### Backend (Microservices)
![Node.js](https://img.shields.io/badge/Node.js-18+-339933?logo=node.js&logoColor=white)
![Express](https://img.shields.io/badge/Express-4.18-000000?logo=express)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15-4169E1?logo=postgresql&logoColor=white)
![Redis](https://img.shields.io/badge/DragonflyDB-Redis-D82C20)

- **Node.js 18+** - ëŸ°íƒ€ì„
- **Express.js** - ì›¹ í”„ë ˆì„ì›Œí¬
- **PostgreSQL 15** - ì£¼ ë°ì´í„°ë² ì´ìŠ¤ (MSA ìŠ¤í‚¤ë§ˆ ë¶„ë¦¬)
- **DragonflyDB** - Redis í˜¸í™˜ ìºì‹œ/ëŒ€ê¸°ì—´
- **Socket.IO** - WebSocket ì„œë²„
- **JWT** - ì¸ì¦ í† í°
- **Winston** - êµ¬ì¡°í™”ëœ ë¡œê¹…

### Infrastructure
![Kubernetes](https://img.shields.io/badge/Kubernetes-1.28+-326CE5?logo=kubernetes&logoColor=white)
![Docker](https://img.shields.io/badge/Docker-24+-2496ED?logo=docker&logoColor=white)
![ArgoCD](https://img.shields.io/badge/ArgoCD-2.9+-EF7B4D?logo=argo)
![GitHub Actions](https://img.shields.io/badge/GitHub_Actions-CI/CD-2088FF?logo=github-actions&logoColor=white)

- **Kubernetes 1.28+** - ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
- **ArgoCD** - GitOps ë°°í¬
- **GitHub Actions** - CI/CD ìë™í™”
- **Kustomize** - K8s ë§¤ë‹ˆí˜ìŠ¤íŠ¸ ê´€ë¦¬
- **Kind** - ë¡œì»¬ K8s í´ëŸ¬ìŠ¤í„°

### Monitoring
![Prometheus](https://img.shields.io/badge/Prometheus-2.47-E6522C?logo=prometheus&logoColor=white)
![Grafana](https://img.shields.io/badge/Grafana-10.2-F46800?logo=grafana&logoColor=white)
![Loki](https://img.shields.io/badge/Loki-2.9-F46800)

- **Prometheus** - ë©”íŠ¸ë¦­ ìˆ˜ì§‘
- **Grafana** - ì‹œê°í™” ëŒ€ì‹œë³´ë“œ
- **Loki** - ë¡œê·¸ ì§‘ê³„
- **Promtail** - ë¡œê·¸ ìˆ˜ì§‘

### AWS Services (Production)
- **EKS** - Managed Kubernetes
- **RDS (PostgreSQL)** - Managed Database
- **ElastiCache (Redis)** - Managed Cache
- **S3** - ì´ë¯¸ì§€ ìŠ¤í† ë¦¬ì§€
- **ECR** - Docker Registry
- **ALB** - Load Balancer
- **Route53** - DNS
- **CloudWatch** - ì¶”ê°€ ëª¨ë‹ˆí„°ë§

---

## ğŸ— ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### MSA ì„œë¹„ìŠ¤ êµ¬ì„± (API Gateway + 4ê°œ MSA)

```mermaid
graph TB
    subgraph "Client Layer"
        WEB[ì›¹ í”„ë¡ íŠ¸ì—”ë“œ<br/>React SPA]
    end
    
    subgraph "Load Balancer"
        ALB[AWS ALB<br/>SSL Termination]
    end
    
    subgraph "Kubernetes Cluster"
        subgraph "Frontend"
            FRONTEND[Frontend Pod<br/>Nginx + React]
        end
        
        subgraph "API Gateway"
            BACKEND[Backend<br/>:3001<br/>API Gateway & Admin]
        end
        
        subgraph "Microservices"
            TICKET[Ticket Service<br/>:3002]
            PAYMENT[Payment Service<br/>:3003]
            STATS[Stats Service<br/>:3004]
            AUTH[Auth Service<br/>:3005]
        end
    end
    
    subgraph "AWS Managed Services"
        RDS[(PostgreSQL<br/>RDS Multi-AZ)]
        REDIS[(Redis<br/>ElastiCache)]
        S3[S3 Bucket<br/>ì´ë²¤íŠ¸ í¬ìŠ¤í„°<br/>ì—…ë¡œë“œ ì´ë¯¸ì§€]
    end
    
    WEB --> ALB
    ALB --> FRONTEND
    ALB --> BACKEND
    
    BACKEND --> TICKET
    BACKEND --> PAYMENT
    BACKEND --> STATS
    BACKEND --> AUTH
    
    TICKET --> RDS
    PAYMENT --> RDS
    STATS --> RDS
    AUTH --> RDS
    
    TICKET --> REDIS
    PAYMENT --> REDIS
    AUTH --> REDIS
    
    TICKET --> S3
    WEB -.->|ì´ë¯¸ì§€ ë¡œë”©| S3
```

### ì„œë¹„ìŠ¤ë³„ ì—­í• 

| ì„œë¹„ìŠ¤ | í¬íŠ¸ | ì—­í•  | ì£¼ìš” ê¸°ëŠ¥ | ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ |
|--------|------|------|-----------|-------------------|
| **Backend** | 3001 | API Gateway | í†µí•© API, ê´€ë¦¬ì ê¸°ëŠ¥, í”„ë¡ì‹œ | `all schemas` |
| **Ticket Service** | 3002 | í‹°ì¼“ ê´€ë¦¬ | ì´ë²¤íŠ¸ ìƒì„±, í‹°ì¼“ ì˜ˆë§¤, ì¢Œì„ ê´€ë¦¬, ì´ë¯¸ì§€ ì—…ë¡œë“œ | `ticket_schema` |
| **Payment Service** | 3003 | ê²°ì œ ì²˜ë¦¬ | ê²°ì œ ìš”ì²­, ê²°ì œ ê²€ì¦, í™˜ë¶ˆ ì²˜ë¦¬ | `payment_schema` |
| **Stats Service** | 3004 | í†µê³„/ë¶„ì„ | ë§¤ì¶œ í†µê³„, ì‚¬ìš©ì ë¶„ì„, ëŒ€ì‹œë³´ë“œ | `stats_schema` |
| **Auth Service** | 3005 | ì¸ì¦/ì¸ê°€ | íšŒì›ê°€ì…, ë¡œê·¸ì¸, JWT í† í° ê´€ë¦¬ | `auth_schema` |

### (ì‚¬ìš©ì) í‹°ì¼“ ì˜ˆë§¤ í”Œë¡œìš°
```mermaid
sequenceDiagram
    participant User as ì‚¬ìš©ì
    participant Frontend as Frontend
    participant Backend as Backend (API Gateway)
    participant Auth as Auth Service
    participant Ticket as Ticket Service
    participant Payment as Payment Service
    participant Stats as Stats Service
    
    User->>Frontend: ë¡œê·¸ì¸ ìš”ì²­
    Frontend->>Backend: POST /api/auth/login
    Backend->>Auth: ì¸ì¦ ìœ„ì„
    Auth-->>Backend: JWT í† í°
    Backend-->>Frontend: JWT í† í°
    Frontend-->>User: ë¡œê·¸ì¸ ì™„ë£Œ
    
    User->>Frontend: í‹°ì¼“ ì˜ˆë§¤
    Frontend->>Backend: POST /api/tickets/book
    Backend->>Ticket: ì˜ˆë§¤ ì²˜ë¦¬ ìœ„ì„
    Ticket->>Payment: ê²°ì œ ìš”ì²­
    Payment-->>Ticket: ê²°ì œ ì™„ë£Œ
    Ticket->>Stats: í†µê³„ ì—…ë°ì´íŠ¸
    Ticket-->>Backend: ì˜ˆë§¤ ì™„ë£Œ
    Backend-->>Frontend: ì˜ˆë§¤ ì™„ë£Œ
    Frontend-->>User: ì˜ˆë§¤ ì„±ê³µ
```

### (ê´€ë¦¬ì) ì´ë²¤íŠ¸ í¬ìŠ¤í„° ì—…ë¡œë“œ í”Œë¡œìš°
```mermaid
sequenceDiagram
    participant Admin as ê´€ë¦¬ì
    participant Frontend as Frontend
    participant Backend as Backend (API Gateway)
    participant Ticket as Ticket Service
    participant S3 as S3 Bucket
    participant DB as PostgreSQL
    
    Admin->>Frontend: ì´ë²¤íŠ¸ ìƒì„± + í¬ìŠ¤í„° ì—…ë¡œë“œ
    Frontend->>Backend: POST /api/events (multipart)
    Backend->>Ticket: ì´ë²¤íŠ¸ ìƒì„± ìœ„ì„
    Ticket->>S3: ì´ë¯¸ì§€ íŒŒì¼ ì—…ë¡œë“œ
    S3-->>Ticket: ì´ë¯¸ì§€ URL ë°˜í™˜
    Ticket->>DB: ì´ë²¤íŠ¸ ì •ë³´ + URL ì €ì¥
    Ticket-->>Backend: ìƒì„± ì™„ë£Œ
    Backend-->>Frontend: ìƒì„± ì™„ë£Œ
    Frontend-->>Admin: ì—…ë¡œë“œ ì„±ê³µ
```

### ë°°í¬ ì•„í‚¤í…ì²˜ 

```mermaid
graph TB
    subgraph "Development"
        GITHUB[GitHub Repository<br/>ì†ŒìŠ¤ ì½”ë“œ]
        ACTIONS[GitHub Actions<br/>CI/CD Pipeline]
    end
    
    subgraph "Container Registry"
        ECR[Amazon ECR<br/>5 Docker Images<br/>Frontend + Backend + 4 MSA]
    end
    
    subgraph "GitOps"
        ARGOCD[ArgoCD<br/>ë°°í¬ ìë™í™”]
        MANIFESTS[K8s Manifests<br/>YAML íŒŒì¼ë“¤]
    end
    
    subgraph "Production"
        EKS[EKS Cluster<br/>ì‹¤ì œ ìš´ì˜ í™˜ê²½]
    end
    
    GITHUB --> ACTIONS
    ACTIONS --> ECR
    ACTIONS --> MANIFESTS
    MANIFESTS --> ARGOCD
    ARGOCD --> EKS
    ECR -.-> EKS
```

### ëª¨ë‹ˆí„°ë§ êµ¬ì¡°
```mermaid
graph TB
    subgraph "Monitoring Stack"
        PROMETHEUS[Prometheus - ë©”íŠ¸ë¦­ ìˆ˜ì§‘]
        GRAFANA[Grafana - ì‹œê°í™” ëŒ€ì‹œë³´ë“œ]
        CLOUDWATCH[CloudWatch - AWS ëª¨ë‹ˆí„°ë§]
    end
    
    subgraph "Application Services"
        BACKEND_SVC[Backend API Gateway]
        SERVICES[Microservices: Ticket, Payment, Stats, Auth]
        FRONTEND_APP[Frontend Nginx Logs]
    end
    
    subgraph "AWS Resources"
        AWS_INFRA[AWS Infrastructure: RDS, Redis, S3, ALB]
    end
    
    BACKEND_SVC --> PROMETHEUS
    SERVICES --> PROMETHEUS
    FRONTEND_APP --> PROMETHEUS
    AWS_INFRA --> CLOUDWATCH
    
    PROMETHEUS --> GRAFANA
    CLOUDWATCH --> GRAFANA
```

### ë„¤íŠ¸ì›Œí‚¹ êµ¬ì¡°
```mermaid
graph TB
    subgraph "Internet"
        USERS[ì‚¬ìš©ì]
    end
    
    subgraph "Public Subnet"
        ALB_NET[Application Load Balancer]
        NAT[NAT Gateway]
    end
    
    subgraph "Private Subnet"
        EKS_NODES[EKS Worker Nodes<br/>ëª¨ë“  Pod ì‹¤í–‰]
        RDS_NET[RDS PostgreSQL<br/>Multi-AZ]
        REDIS_NET[ElastiCache Redis<br/>Cluster Mode]
    end
    
    subgraph "S3 Global"
        S3_NET[S3 Bucket<br/>ì´ë¯¸ì§€ ì €ì¥ì†Œ]
    end
    
    USERS --> ALB_NET
    ALB_NET --> EKS_NODES
    EKS_NODES --> NAT
    NAT --> USERS
    
    EKS_NODES --> RDS_NET
    EKS_NODES --> REDIS_NET
    EKS_NODES --> S3_NET
```

### ë°ì´í„° í”Œë¡œìš°
```mermaid
graph LR
    subgraph "ì‚¬ìš©ì ë°ì´í„°"
        USER_DATA[íšŒì› ì •ë³´<br/>ì˜ˆë§¤ ë‚´ì—­<br/>ê²°ì œ ì •ë³´]
    end
    
    subgraph "ì´ë²¤íŠ¸ ë°ì´í„°"
        EVENT_DATA[ì´ë²¤íŠ¸ ì •ë³´<br/>ì¢Œì„ ì •ë³´<br/>ê°€ê²© ì •ë³´]
    end
    
    subgraph "íŒŒì¼ ë°ì´í„°"
        FILE_DATA[í¬ìŠ¤í„° ì´ë¯¸ì§€<br/>ì²¨ë¶€ íŒŒì¼]
    end
    
    subgraph "ìºì‹œ ë°ì´í„°"
        CACHE_DATA[ì„¸ì…˜ ì •ë³´<br/>ì„ì‹œ ë°ì´í„°]
    end
    
    USER_DATA --> RDS_MAIN[(PostgreSQL)]
    EVENT_DATA --> RDS_MAIN
    CACHE_DATA --> REDIS_MAIN[(Redis)]
    FILE_DATA --> S3_MAIN[S3 Bucket]
```
---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- **Docker Desktop** (v4.0+)
- **Node.js** (v18+)
- **Git**

### ë¡œì»¬ ê°œë°œí™˜ê²½ ì‹¤í–‰

```bash
# 1. í”„ë¡œì íŠ¸ í´ë¡ 
git clone https://github.com/cchriscode/tiketi.git
cd tiketi

# 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ì„ ì‹¤ì œ í™˜ê²½ì— ë§ê²Œ ìˆ˜ì •

# 3. Docker Composeë¡œ ì „ì²´ ì‹œìŠ¤í…œ ì‹¤í–‰
docker-compose up -d

# 4. ê° ì„œë¹„ìŠ¤ í—¬ìŠ¤ì²´í¬
curl http://localhost:3001/health  # Backend (API Gateway)
curl http://localhost:3002/health  # Ticket Service
curl http://localhost:3003/health  # Payment Service
curl http://localhost:3004/health  # Stats Service
curl http://localhost:3005/health  # Auth Service

# 5. ì• í”Œë¦¬ì¼€ì´ì…˜ ì ‘ì†
# Frontend: http://localhost:3000
```

### Kubernetes í™˜ê²½ ë°°í¬ (EKS)

```bash
# 1. EKS í´ëŸ¬ìŠ¤í„° ì—°ê²°
aws eks update-kubeconfig --region ap-northeast-2 --name tiketi-cluster

# 2. ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ìƒì„±
kubectl create namespace tiketi

# 3. ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬
kubectl apply -f k8s/base/

# 4. ArgoCD ì„¤ì¹˜ ë° ì„¤ì •
kubectl create namespace argocd
kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml
kubectl apply -f argocd/applications/
```

### ê¸°ë³¸ ê³„ì •

#### ê´€ë¦¬ì
- **Email**: `admin@tiketi.com`
- **Password**: `admin123`
- **ê´€ë¦¬ì í˜ì´ì§€**: http://localhost:3000/admin

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
tiketi/
â”œâ”€â”€ .github/workflows/        # GitHub Actions CI/CD
â”‚   â”œâ”€â”€ backend-ci-cd.yml     # API Gateway
â”‚   â”œâ”€â”€ auth-ci-cd.yml        # Auth Service
â”‚   â”œâ”€â”€ ticket-ci-cd.yml      # Ticket Service
â”‚   â”œâ”€â”€ payment-ci-cd.yml     # Payment Service
â”‚   â”œâ”€â”€ stats-ci-cd.yml       # Stats Service
â”‚   â””â”€â”€ frontend-ci-cd.yml    # Frontend
â”‚
â”œâ”€â”€ argocd/                   # ArgoCD GitOps ì„¤ì •
â”‚   â”œâ”€â”€ applications/         # ArgoCD Applications
â”‚   â””â”€â”€ projects/             # ArgoCD Projects
â”‚
â”œâ”€â”€ backend/                  # Backend (API Gateway)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ routes/          # API ë¼ìš°íŒ… & í”„ë¡ì‹œ
â”‚   â”‚   â”œâ”€â”€ middleware/      # ì¸ì¦, ë¡œê¹…
â”‚   â”‚   â””â”€â”€ services/        # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ services/                 # ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ (4ê°œ)
â”‚   â”œâ”€â”€ auth/                # ì¸ì¦ ì„œë¹„ìŠ¤ (:3005)
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”œâ”€â”€ ticket/              # í‹°ì¼“ ì„œë¹„ìŠ¤ (:3002)
â”‚   â”œâ”€â”€ payment/             # ê²°ì œ ì„œë¹„ìŠ¤ (:3003)
â”‚   â””â”€â”€ stats/               # í†µê³„ ì„œë¹„ìŠ¤ (:3004)
â”‚
â”œâ”€â”€ frontend/                 # React Frontend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/      # ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ pages/           # í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ services/        # API í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â””â”€â”€ hooks/           # ì»¤ìŠ¤í…€ í›…
â”‚   â””â”€â”€ Dockerfile
â”‚
â”œâ”€â”€ k8s/                      # Kubernetes ë§¤ë‹ˆí˜ìŠ¤íŠ¸
â”‚   â”œâ”€â”€ base/                # ê¸°ë³¸ ë¦¬ì†ŒìŠ¤
â”‚   â”‚   â”œâ”€â”€ backend-deployment.yaml
â”‚   â”‚   â”œâ”€â”€ auth-deployment.yaml
â”‚   â”‚   â”œâ”€â”€ ticket-deployment.yaml
â”‚   â”‚   â”œâ”€â”€ payment-deployment.yaml
â”‚   â”‚   â”œâ”€â”€ stats-deployment.yaml
â”‚   â”‚   â””â”€â”€ services.yaml
â”‚   â””â”€â”€ overlays/            # í™˜ê²½ë³„ ì„¤ì •
â”‚
â”œâ”€â”€ monitoring/               # ëª¨ë‹ˆí„°ë§ ì„¤ì •
â”‚   â”œâ”€â”€ prometheus/
â”‚   â””â”€â”€ grafana/
â”‚
â”œâ”€â”€ docker-compose.yml        # ë¡œì»¬ ê°œë°œí™˜ê²½
â”œâ”€â”€ .env.example             # í™˜ê²½ë³€ìˆ˜ í…œí”Œë¦¿
â””â”€â”€ README.md                # ë³¸ ë¬¸ì„œ
```

---

## ğŸ“š API ë¬¸ì„œ

### ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸

#### Backend (API Gateway - :3001)
```
# í†µí•© API ì—”ë“œí¬ì¸íŠ¸ (í”„ë¡ì‹œ ë°©ì‹)
GET  /api/auth/*             # â†’ Auth Serviceë¡œ í”„ë¡ì‹œ
GET  /api/events/*           # â†’ Ticket Serviceë¡œ í”„ë¡ì‹œ
GET  /api/payments/*         # â†’ Payment Serviceë¡œ í”„ë¡ì‹œ
GET  /api/stats/*            # â†’ Stats Serviceë¡œ í”„ë¡ì‹œ

# ê´€ë¦¬ì ì „ìš© API
GET  /api/admin/dashboard    # ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
POST /api/admin/events       # ê´€ë¦¬ì ì´ë²¤íŠ¸ ê´€ë¦¬
```

#### ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë³„ ì§ì ‘ API

**ì¸ì¦ (Auth Service - :3005)**
```
POST /api/auth/register      # íšŒì›ê°€ì…
POST /api/auth/login         # ë¡œê·¸ì¸
GET  /api/auth/me            # ë‚´ ì •ë³´ ì¡°íšŒ
POST /api/auth/logout        # ë¡œê·¸ì•„ì›ƒ
```

**ì´ë²¤íŠ¸ & í‹°ì¼“ (Ticket Service - :3002)**
```
GET  /api/events             # ì´ë²¤íŠ¸ ëª©ë¡
POST /api/events             # ì´ë²¤íŠ¸ ìƒì„±
GET  /api/events/:id         # ì´ë²¤íŠ¸ ìƒì„¸
POST /api/tickets/book       # í‹°ì¼“ ì˜ˆë§¤
GET  /api/tickets/my         # ë‚´ ì˜ˆë§¤ ë‚´ì—­
```

**ê²°ì œ (Payment Service - :3003)**
```
POST /api/payments/create    # ê²°ì œ ìƒì„±
POST /api/payments/confirm   # ê²°ì œ í™•ì¸
POST /api/payments/refund    # í™˜ë¶ˆ ì²˜ë¦¬
GET  /api/payments/history   # ê²°ì œ ë‚´ì—­
```

**í†µê³„ (Stats Service - :3004)**
```
GET  /api/stats/sales        # ë§¤ì¶œ í†µê³„
GET  /api/stats/users        # ì‚¬ìš©ì í†µê³„
GET  /api/stats/events       # ì´ë²¤íŠ¸ í†µê³„
GET  /api/stats/dashboard    # ëŒ€ì‹œë³´ë“œ ë°ì´í„°
```

### API ë¬¸ì„œ ì ‘ì†
- **Backend (í†µí•©)**: http://localhost:3001/api-docs
- **Auth Service**: http://localhost:3005/api-docs
- **Ticket Service**: http://localhost:3002/api-docs
- **Payment Service**: http://localhost:3003/api-docs
- **Stats Service**: http://localhost:3004/api-docs

ìì„¸í•œ API ëª…ì„¸ëŠ” [PROJECT_SPECIFICATION.md](./PROJECT_SPECIFICATION.md#7-api-ëª…ì„¸)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

---

## ğŸ“Š ëª¨ë‹ˆí„°ë§

### ì ‘ì† URL (í”„ë¡œë•ì…˜)
- **ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜**: https://tiketi.store
- **ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ**: https://tiketi.store/admin
- **Grafana**: https://grafana.tiketi.store
  - ê¸°ë³¸ ê³„ì •: admin / admin
- **Prometheus**: https://prometheus.tiketi.store

### ê°œë°œ í™˜ê²½ URL
- **í”„ë¡ íŠ¸ì—”ë“œ**: http://localhost:3000
- **Backend (API Gateway)**: http://localhost:3001
- **ê° ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤**: http://localhost:3002-3005
- **Grafana**: http://localhost:30006
  - ê¸°ë³¸ ê³„ì •: admin / admin
- **Prometheus**: ê° ì„œë¹„ìŠ¤ì˜ `/metrics` ì—”ë“œí¬ì¸íŠ¸

#### ëŒ€ì‹œë³´ë“œ
- **ì‹œìŠ¤í…œ ê°œìš”**: Pod ìƒíƒœ, CPU/Memory, ë„¤íŠ¸ì›Œí¬
- **ì• í”Œë¦¬ì¼€ì´ì…˜ ë©”íŠ¸ë¦­**: Request Rate, Response Time, Error Rate
- **ë¹„ì¦ˆë‹ˆìŠ¤ ë©”íŠ¸ë¦­**: ë§¤ì¶œ, ì˜ˆì•½ ê±´ìˆ˜, ì „í™˜ìœ¨
- **ë¡œê·¸ ê²€ìƒ‰**: Loki í†µí•© ë¡œê·¸ ë·°ì–´

#### ì£¼ìš” ë©”íŠ¸ë¦­
- `http_request_duration_seconds` - API ì‘ë‹µ ì‹œê°„
- `tiketi_daily_revenue` - ì¼ë³„ ë§¤ì¶œ
- `tiketi_reservations_total` - ì´ ì˜ˆì•½ ê±´ìˆ˜
- `tiketi_seats_available` - ì´ë²¤íŠ¸ë³„ ì”ì—¬ ì¢Œì„

#### ì„±ëŠ¥ ëª©í‘œ ğŸ¯
- **ë™ì‹œ ì‚¬ìš©ì**: ìµœëŒ€ **10,000ëª…**
- **ì²˜ë¦¬ëŸ‰**: **1,000 TPS**
- **ì‘ë‹µ ì‹œê°„**: **200ms (p95)**
- **ê°€ìš©ì„±**: 99.9% ì´ìƒ
- **ë°ì´í„°ë² ì´ìŠ¤ ì‘ë‹µ ì‹œê°„**: < 100ms

---

## ğŸš¢ ë°°í¬

### GitOps with ArgoCD

#### ë°°í¬ íë¦„
```
1. ì½”ë“œ Push (main/develop)
   â†“
2. GitHub Actions ì‹¤í–‰
   - Docker ì´ë¯¸ì§€ ë¹Œë“œ
   - ECRì— í‘¸ì‹œ
   - Kustomize ë§¤ë‹ˆí˜ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
   â†“
3. Git ì»¤ë°‹ & í‘¸ì‹œ
   â†“
4. ArgoCDê°€ ë³€ê²½ ê°ì§€ (3ë¶„ë§ˆë‹¤ í´ë§)
   â†“
5. ìë™ ë°°í¬ (dev/staging) ë˜ëŠ” ìˆ˜ë™ ìŠ¹ì¸ (prod)
   â†“
6. Kubernetesì— Apply (Rolling Update)
```

#### ArgoCD ì„¤ì¹˜
```bash
# ArgoCD ì„¤ì¹˜
kubectl create namespace argocd
kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml

# App of Apps ë°°í¬
kubectl apply -f argocd/applications/app-of-apps.yaml

# ArgoCD UI ì ‘ì†
kubectl port-forward svc/argocd-server -n argocd 8080:443
# URL: https://localhost:8080
```

### CI/CD í™˜ê²½ ë³€ìˆ˜

GitHub Secretsì— ë‹¤ìŒ ë³€ìˆ˜ ì„¤ì • í•„ìš”:

```
AWS_ACCOUNT_ID          # AWS ê³„ì • ID
AWS_ROLE_ARN            # OIDC Role ARN
DISCORD_WEBHOOK         # Discord ì•Œë¦¼ (ì„ íƒ)
```

---

## ğŸ“– ë¬¸ì„œ

### ì£¼ìš” ë¬¸ì„œ
- **[QUICK_START.md](./QUICK_START.md)** - Windows í™˜ê²½ ë¹ ë¥¸ ì‹œì‘
- **[QUICK_START_MAC.md](./QUICK_START_MAC.md)** - macOS í™˜ê²½ ë¹ ë¥¸ ì‹œì‘
- **[PROJECT_SPECIFICATION.md](./PROJECT_SPECIFICATION.md)** - í”„ë¡œì íŠ¸ ìƒì„¸ ëª…ì„¸ì„œ
  - ê¸°ìˆ  ìŠ¤íƒ, ì•„í‚¤í…ì²˜, API ëª…ì„¸, DB ì„¤ê³„
  - í¬íŠ¸/ë„¤íŠ¸ì›Œí¬, Kubernetes, CI/CD, GitOps
  - ëª¨ë‹ˆí„°ë§, ë³´ì•ˆ, ì„±ëŠ¥ ìµœì í™”
- **[KIND_DEPLOYMENT_GUIDE.md](./KIND_DEPLOYMENT_GUIDE.md)** - Kind ë°°í¬ ê°€ì´ë“œ
- **[TROUBLESHOOTING_COMPLETE_GUIDE.md](./TROUBLESHOOTING_COMPLETE_GUIDE.md)** - ë¬¸ì œ í•´ê²°

### ê¸°ìˆ  ë¬¸ì„œ (claudedocs/)
- `MSA_SYSTEM_SPEC.md` - MSA ìƒì„¸ ìŠ¤í™
- `ARGOCD_IMPLEMENTATION_ROADMAP.md` - ArgoCD êµ¬í˜„ ë¡œë“œë§µ
- `K8S_KUSTOMIZE_MIGRATION_COMPLETE.md` - Kustomize ë§ˆì´ê·¸ë ˆì´ì…˜
- `GITHUB_ACTIONS_ARGOCD_COMPLETE.md` - GitHub Actions + ArgoCD

---

## ğŸ§ª í…ŒìŠ¤íŠ¸

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
```bash
# Backend (API Gateway) í…ŒìŠ¤íŠ¸
cd backend && npm test

# ê° ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë³„ í…ŒìŠ¤íŠ¸
cd services/auth && npm test
cd services/ticket && npm test
cd services/payment && npm test
cd services/stats && npm test

# í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸
cd frontend && npm test
```

### í†µí•© í…ŒìŠ¤íŠ¸
```bash
# API í†µí•© í…ŒìŠ¤íŠ¸
npm run test:integration

# ì„œë¹„ìŠ¤ ê°„ í†µì‹  í…ŒìŠ¤íŠ¸
npm run test:services
```

### í—¬ìŠ¤ ì²´í¬
```bash
# ëª¨ë“  ì„œë¹„ìŠ¤ Health í™•ì¸
curl http://localhost:3001/health  # Backend (API Gateway)
curl http://localhost:3002/health  # Ticket Service
curl http://localhost:3003/health  # Payment Service
curl http://localhost:3004/health  # Stats Service
curl http://localhost:3005/health  # Auth Service
```

---

## ğŸ¤ ê¸°ì—¬

### ë¸Œëœì¹˜ ì „ëµ
- `main` - Production ë°°í¬
- `dev` - Development ë°°í¬
- `feature/*` - ê¸°ëŠ¥ ê°œë°œ
- `bugfix/*` - ë²„ê·¸ ìˆ˜ì •

### ì»¤ë°‹ ì»¨ë²¤ì…˜
```
feat: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
fix: ë²„ê·¸ ìˆ˜ì •
docs: ë¬¸ì„œ ìˆ˜ì •
style: ì½”ë“œ í¬ë§·íŒ…
refactor: ì½”ë“œ ë¦¬íŒ©í† ë§
test: í…ŒìŠ¤íŠ¸ ì½”ë“œ
chore: ë¹Œë“œ, ì„¤ì • ë³€ê²½
```

### Pull Request
1. Feature ë¸Œëœì¹˜ ìƒì„±
2. ë³€ê²½ì‚¬í•­ ì»¤ë°‹
3. PR ìƒì„± (develop ë¸Œëœì¹˜ë¡œ)
4. ì½”ë“œ ë¦¬ë·° & CI í†µê³¼
5. Merge

---

#### ğŸ“ ì´ í”„ë¡œì íŠ¸ëŠ” í•™ìŠµ ëª©ì ìœ¼ë¡œ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.

---
