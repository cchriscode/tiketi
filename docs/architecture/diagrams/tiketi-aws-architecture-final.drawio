<mxfile host="app.diagrams.net" modified="2025-12-03T00:00:00.000Z" agent="Claude Code" version="24.0.0">
  <diagram id="aws-architecture-tiketi" name="TIKETI AWS Architecture - MSA with EKS">
    <mxGraphModel dx="2400" dy="1400" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="TIKETI - ì‹¤ì‹œê°„ í‹°ì¼“íŒ… í”Œëž«í¼ AWS ì•„í‚¤í…ì²˜ (MSA with EKS)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="400" y="20" width="800" height="40" as="geometry" />
        </mxCell>

        <!-- Metadata -->
        <mxCell id="metadata" value="Version: 1.0 | Date: 2025-12-03 | Traffic: 100ë§Œ+ ë™ì‹œ ì ‘ì† ì§€ì›" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="400" y="60" width="800" height="20" as="geometry" />
        </mxCell>

        <!-- ==================== CI/CD Pipeline (Top) ==================== -->

        <!-- GitHub -->
        <mxCell id="github" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ffffff;strokeColor=#232F3E;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.git;" vertex="1" parent="1">
          <mxGeometry x="80" y="120" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="github-label" value="GitHub&#xa;ì†ŒìŠ¤ ì½”ë“œ&#xa;+ ì„¤ì • íŒŒì¼" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11" vertex="1" parent="1">
          <mxGeometry x="64" y="198" width="110" height="45" as="geometry" />
        </mxCell>

        <!-- GitHub Actions -->
        <mxCell id="github-actions" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.codepipeline;" vertex="1" parent="1">
          <mxGeometry x="240" y="120" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="github-actions-label" value="GitHub Actions&#xa;CI/CD Pipeline&#xa;ë¹Œë“œ + í…ŒìŠ¤íŠ¸" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11" vertex="1" parent="1">
          <mxGeometry x="219" y="198" width="120" height="45" as="geometry" />
        </mxCell>

        <!-- ECR -->
        <mxCell id="ecr" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ecr;" vertex="1" parent="1">
          <mxGeometry x="400" y="120" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="ecr-label" value="Amazon ECR&#xa;ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€&#xa;6ê°œ ì„œë¹„ìŠ¤" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11" vertex="1" parent="1">
          <mxGeometry x="384" y="198" width="110" height="45" as="geometry" />
        </mxCell>

        <!-- CI/CD Arrows -->
        <mxCell id="arrow-github-actions" value="git push" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fontSize=10;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="github" target="github-actions">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-actions-ecr" value="docker push" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fontSize=10;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="github-actions" target="ecr">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ==================== User & CDN (Top Right) ==================== -->

        <!-- Route 53 -->
        <mxCell id="route53" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.route_53;" vertex="1" parent="1">
          <mxGeometry x="1400" y="120" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="route53-label" value="Route 53&#xa;api.tiketi.gg&#xa;DNS ë¼ìš°íŒ…" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11" vertex="1" parent="1">
          <mxGeometry x="1384" y="198" width="110" height="45" as="geometry" />
        </mxCell>

        <!-- CloudFront -->
        <mxCell id="cloudfront" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cloudfront;" vertex="1" parent="1">
          <mxGeometry x="1240" y="120" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="cloudfront-label" value="CloudFront&#xa;CDN&#xa;ìºì‹œ ížˆíŠ¸ìœ¨ 90%" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11" vertex="1" parent="1">
          <mxGeometry x="1224" y="198" width="110" height="45" as="geometry" />
        </mxCell>

        <!-- S3 Frontend -->
        <mxCell id="s3-frontend" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#7AA116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.s3;" vertex="1" parent="1">
          <mxGeometry x="1080" y="120" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="s3-frontend-label" value="S3 Bucket&#xa;React SPA&#xa;ì •ì  íŒŒì¼" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11" vertex="1" parent="1">
          <mxGeometry x="1064" y="198" width="110" height="45" as="geometry" />
        </mxCell>

        <!-- Users -->
        <mxCell id="users" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#232F3D;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.users;" vertex="1" parent="1">
          <mxGeometry x="1440" y="280" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="users-label" value="ì‚¬ìš©ìž&#xa;100ë§Œ+ ë™ì‹œ ì ‘ì†" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1424" y="358" width="110" height="30" as="geometry" />
        </mxCell>

        <!-- User flow arrows -->
        <mxCell id="arrow-users-route53" value="HTTPS" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fontSize=10;fontColor=#FF0000;startArrow=classic;startFill=1;endArrow=classic;endFill=1;strokeColor=#FF0000;" edge="1" parent="1" source="users" target="route53">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-route53-cloudfront" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="route53" target="cloudfront">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-cloudfront-s3" value="ì •ì  íŒŒì¼" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fontSize=10;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="cloudfront" target="s3-frontend">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ==================== VPC Container ==================== -->

        <!-- VPC Box -->
        <mxCell id="vpc" value="" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_vpc2;strokeColor=#8C4FFF;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#AAB7B8;dashed=0;" vertex="1" parent="1">
          <mxGeometry x="80" y="300" width="1360" height="700" as="geometry" />
        </mxCell>
        <mxCell id="vpc-label" value="VPC (10.0.0.0/16) - us-east-1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#8C4FFF" vertex="1" parent="vpc">
          <mxGeometry x="10" y="-5" width="300" height="25" as="geometry" />
        </mxCell>

        <!-- ==================== Availability Zone A ==================== -->

        <!-- AZ-A Box -->
        <mxCell id="az-a" value="" style="fillColor=none;strokeColor=#147EBA;dashed=1;verticalAlign=top;fontStyle=0;fontColor=#147EBA;whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="vpc">
          <mxGeometry x="40" y="50" width="620" height="620" as="geometry" />
        </mxCell>
        <mxCell id="az-a-label" value="Availability Zone A (us-east-1a)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#147EBA" vertex="1" parent="vpc">
          <mxGeometry x="50" y="55" width="250" height="20" as="geometry" />
        </mxCell>

        <!-- Public Subnet A -->
        <mxCell id="public-subnet-a" value="" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;grStroke=0;strokeColor=#7AA116;fillColor=#F2F6E8;verticalAlign=top;align=left;spacingLeft=30;fontColor=#248814;dashed=0;" vertex="1" parent="vpc">
          <mxGeometry x="60" y="90" width="280" height="200" as="geometry" />
        </mxCell>
        <mxCell id="public-subnet-a-label" value="Public Subnet A (10.0.1.0/24)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;fontColor=#248814" vertex="1" parent="public-subnet-a">
          <mxGeometry x="5" y="5" width="250" height="20" as="geometry" />
        </mxCell>

        <!-- ALB in Public Subnet A -->
        <mxCell id="alb-a" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.application_load_balancer;" vertex="1" parent="public-subnet-a">
          <mxGeometry x="40" y="50" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="alb-a-label" value="ALB&#xa;Ingress" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10" vertex="1" parent="public-subnet-a">
          <mxGeometry x="30" y="110" width="80" height="30" as="geometry" />
        </mxCell>

        <!-- NAT Gateway in Public Subnet A -->
        <mxCell id="nat-a" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.nat_gateway;" vertex="1" parent="public-subnet-a">
          <mxGeometry x="160" y="50" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nat-a-label" value="NAT GW" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10" vertex="1" parent="public-subnet-a">
          <mxGeometry x="150" y="110" width="80" height="30" as="geometry" />
        </mxCell>

        <!-- Private Subnet A -->
        <mxCell id="private-subnet-a" value="" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;grStroke=0;strokeColor=#00A4A6;fillColor=#E6F6F7;verticalAlign=top;align=left;spacingLeft=30;fontColor=#147EBA;dashed=0;" vertex="1" parent="vpc">
          <mxGeometry x="60" y="320" width="280" height="330" as="geometry" />
        </mxCell>
        <mxCell id="private-subnet-a-label" value="Private Subnet A (10.0.11.0/24)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;fontColor=#147EBA" vertex="1" parent="private-subnet-a">
          <mxGeometry x="5" y="5" width="250" height="20" as="geometry" />
        </mxCell>

        <!-- EKS Worker Node A -->
        <mxCell id="eks-worker-a" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ec2;" vertex="1" parent="private-subnet-a">
          <mxGeometry x="20" y="40" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eks-worker-a-label" value="Worker Node&#xa;t3.xlarge&#xa;On-Demand" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9" vertex="1" parent="private-subnet-a">
          <mxGeometry x="5" y="100" width="90" height="40" as="geometry" />
        </mxCell>

        <!-- Pod Group A -->
        <mxCell id="pod-group-a" value="Pods (5-20ê°œ)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;verticalAlign=top;fontSize=9;fontStyle=1" vertex="1" parent="private-subnet-a">
          <mxGeometry x="20" y="145" width="240" height="165" as="geometry" />
        </mxCell>

        <!-- Individual Pods in A -->
        <mxCell id="pod-auth-a" value="auth-svc&#xa;2 pods" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=8" vertex="1" parent="private-subnet-a">
          <mxGeometry x="30" y="165" width="50" height="35" as="geometry" />
        </mxCell>
        <mxCell id="pod-event-a" value="event-svc&#xa;3 pods" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=8" vertex="1" parent="private-subnet-a">
          <mxGeometry x="90" y="165" width="50" height="35" as="geometry" />
        </mxCell>
        <mxCell id="pod-queue-a" value="queue-svc&#xa;5 pods" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=8;fontStyle=1" vertex="1" parent="private-subnet-a">
          <mxGeometry x="150" y="165" width="50" height="35" as="geometry" />
        </mxCell>
        <mxCell id="pod-reservation-a" value="reserv-svc&#xa;10 pods" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=8;fontStyle=1" vertex="1" parent="private-subnet-a">
          <mxGeometry x="210" y="165" width="45" height="35" as="geometry" />
        </mxCell>
        <mxCell id="pod-payment-a" value="payment&#xa;2 pods" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=8" vertex="1" parent="private-subnet-a">
          <mxGeometry x="30" y="210" width="50" height="35" as="geometry" />
        </mxCell>
        <mxCell id="pod-prometheus-a" value="prometheus" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=8" vertex="1" parent="private-subnet-a">
          <mxGeometry x="90" y="210" width="50" height="35" as="geometry" />
        </mxCell>
        <mxCell id="pod-grafana-a" value="grafana" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=8" vertex="1" parent="private-subnet-a">
          <mxGeometry x="150" y="210" width="50" height="35" as="geometry" />
        </mxCell>
        <mxCell id="pod-loki-a" value="loki" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=8" vertex="1" parent="private-subnet-a">
          <mxGeometry x="210" y="210" width="45" height="35" as="geometry" />
        </mxCell>
        <mxCell id="pod-more-a" value="ê¸°íƒ€ Pods..." style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=8;dashed=1" vertex="1" parent="private-subnet-a">
          <mxGeometry x="30" y="255" width="225" height="35" as="geometry" />
        </mxCell>

        <!-- ==================== Availability Zone B ==================== -->

        <!-- AZ-B Box -->
        <mxCell id="az-b" value="" style="fillColor=none;strokeColor=#147EBA;dashed=1;verticalAlign=top;fontStyle=0;fontColor=#147EBA;whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="vpc">
          <mxGeometry x="700" y="50" width="620" height="620" as="geometry" />
        </mxCell>
        <mxCell id="az-b-label" value="Availability Zone B (us-east-1b)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#147EBA" vertex="1" parent="vpc">
          <mxGeometry x="710" y="55" width="250" height="20" as="geometry" />
        </mxCell>

        <!-- Public Subnet B -->
        <mxCell id="public-subnet-b" value="" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;grStroke=0;strokeColor=#7AA116;fillColor=#F2F6E8;verticalAlign=top;align=left;spacingLeft=30;fontColor=#248814;dashed=0;" vertex="1" parent="vpc">
          <mxGeometry x="720" y="90" width="280" height="200" as="geometry" />
        </mxCell>
        <mxCell id="public-subnet-b-label" value="Public Subnet B (10.0.2.0/24)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;fontColor=#248814" vertex="1" parent="public-subnet-b">
          <mxGeometry x="5" y="5" width="250" height="20" as="geometry" />
        </mxCell>

        <!-- ALB in Public Subnet B -->
        <mxCell id="alb-b" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.application_load_balancer;" vertex="1" parent="public-subnet-b">
          <mxGeometry x="40" y="50" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="alb-b-label" value="ALB&#xa;Ingress" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10" vertex="1" parent="public-subnet-b">
          <mxGeometry x="30" y="110" width="80" height="30" as="geometry" />
        </mxCell>

        <!-- NAT Gateway in Public Subnet B -->
        <mxCell id="nat-b" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.nat_gateway;" vertex="1" parent="public-subnet-b">
          <mxGeometry x="160" y="50" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nat-b-label" value="NAT GW" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10" vertex="1" parent="public-subnet-b">
          <mxGeometry x="150" y="110" width="80" height="30" as="geometry" />
        </mxCell>

        <!-- Private Subnet B -->
        <mxCell id="private-subnet-b" value="" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;grStroke=0;strokeColor=#00A4A6;fillColor=#E6F6F7;verticalAlign=top;align=left;spacingLeft=30;fontColor=#147EBA;dashed=0;" vertex="1" parent="vpc">
          <mxGeometry x="720" y="320" width="280" height="330" as="geometry" />
        </mxCell>
        <mxCell id="private-subnet-b-label" value="Private Subnet B (10.0.12.0/24)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;fontColor=#147EBA" vertex="1" parent="private-subnet-b">
          <mxGeometry x="5" y="5" width="250" height="20" as="geometry" />
        </mxCell>

        <!-- EKS Worker Node B -->
        <mxCell id="eks-worker-b" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ec2;" vertex="1" parent="private-subnet-b">
          <mxGeometry x="20" y="40" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eks-worker-b-label" value="Worker Node&#xa;t3.xlarge&#xa;On-Demand" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9" vertex="1" parent="private-subnet-b">
          <mxGeometry x="5" y="100" width="90" height="40" as="geometry" />
        </mxCell>

        <!-- Spot Instances Group B -->
        <mxCell id="spot-group-b" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#FF6600;dashed=1;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ec2;" vertex="1" parent="private-subnet-b">
          <mxGeometry x="120" y="40" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="spot-group-b-label" value="Spot Instances&#xa;c6i.xlarge&#xa;3-50ëŒ€&#xa;70% í• ì¸" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=1;fontColor=#FF6600" vertex="1" parent="private-subnet-b">
          <mxGeometry x="100" y="100" width="100" height="50" as="geometry" />
        </mxCell>

        <!-- Pod Group B (similar to A) -->
        <mxCell id="pod-group-b" value="Pods (5-20ê°œ)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;verticalAlign=top;fontSize=9;fontStyle=1" vertex="1" parent="private-subnet-b">
          <mxGeometry x="20" y="165" width="240" height="145" as="geometry" />
        </mxCell>

        <mxCell id="pod-auth-b" value="auth-svc&#xa;2 pods" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=8" vertex="1" parent="private-subnet-b">
          <mxGeometry x="30" y="185" width="50" height="35" as="geometry" />
        </mxCell>
        <mxCell id="pod-event-b" value="event-svc&#xa;3 pods" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=8" vertex="1" parent="private-subnet-b">
          <mxGeometry x="90" y="185" width="50" height="35" as="geometry" />
        </mxCell>
        <mxCell id="pod-queue-b" value="queue-svc&#xa;5 pods" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=8;fontStyle=1" vertex="1" parent="private-subnet-b">
          <mxGeometry x="150" y="185" width="50" height="35" as="geometry" />
        </mxCell>
        <mxCell id="pod-reservation-b" value="reserv-svc&#xa;10 pods" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=8;fontStyle=1" vertex="1" parent="private-subnet-b">
          <mxGeometry x="210" y="185" width="45" height="35" as="geometry" />
        </mxCell>
        <mxCell id="pod-payment-b" value="payment&#xa;2 pods" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=8" vertex="1" parent="private-subnet-b">
          <mxGeometry x="30" y="230" width="50" height="35" as="geometry" />
        </mxCell>
        <mxCell id="pod-more-b" value="ê¸°íƒ€ Pods..." style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=8;dashed=1" vertex="1" parent="private-subnet-b">
          <mxGeometry x="90" y="230" width="165" height="35" as="geometry" />
        </mxCell>

        <!-- ==================== EKS Control Plane (Outside VPC) ==================== -->

        <!-- EKS Control Plane -->
        <mxCell id="eks-control-plane" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.eks;" vertex="1" parent="1">
          <mxGeometry x="680" y="300" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="eks-control-plane-label" value="Amazon EKS&#xa;Control Plane&#xa;(AWS ê´€ë¦¬í˜•)&#xa;Multi-AZ" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="649" y="378" width="140" height="60" as="geometry" />
        </mxCell>

        <!-- ==================== Database Layer (Right Side) ==================== -->

        <!-- RDS Aurora Cluster -->
        <mxCell id="rds-aurora-box" value="RDS Aurora PostgreSQL Cluster" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;verticalAlign=top;fontSize=11;fontStyle=1;fontColor=#333333;dashed=0;" vertex="1" parent="1">
          <mxGeometry x="1480" y="440" width="240" height="220" as="geometry" />
        </mxCell>

        <!-- RDS Writer -->
        <mxCell id="rds-writer" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.aurora_postgresql_instance;" vertex="1" parent="1">
          <mxGeometry x="1510" y="480" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="rds-writer-label" value="Writer&#xa;db.t4g.medium&#xa;AZ-A" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9" vertex="1" parent="1">
          <mxGeometry x="1495" y="540" width="90" height="40" as="geometry" />
        </mxCell>

        <!-- RDS Reader -->
        <mxCell id="rds-reader" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.aurora_postgresql_instance_alternate;" vertex="1" parent="1">
          <mxGeometry x="1620" y="480" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="rds-reader-label" value="Reader&#xa;db.t4g.medium&#xa;AZ-B" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9" vertex="1" parent="1">
          <mxGeometry x="1605" y="540" width="90" height="40" as="geometry" />
        </mxCell>

        <!-- RDS Auto Scaling -->
        <mxCell id="rds-autoscale" value="Auto Scaling: 1-3 Readers" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=9;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1505" y="590" width="190" height="25" as="geometry" />
        </mxCell>

        <!-- RDS Backup Info -->
        <mxCell id="rds-backup" value="â€¢ Multi-AZ: âœ…&#xa;â€¢ ë°±ì—…: 7ì¼ ë³´ì¡´&#xa;â€¢ ì•”í˜¸í™”: AES-256" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=8" vertex="1" parent="1">
          <mxGeometry x="1505" y="620" width="190" height="35" as="geometry" />
        </mxCell>

        <!-- ElastiCache Redis Cluster -->
        <mxCell id="redis-box" value="ElastiCache Redis Cluster" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;verticalAlign=top;fontSize=11;fontStyle=1;fontColor=#333333;dashed=0;" vertex="1" parent="1">
          <mxGeometry x="1480" y="700" width="240" height="180" as="geometry" />
        </mxCell>

        <!-- Redis Primary -->
        <mxCell id="redis-primary" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.elasticache;" vertex="1" parent="1">
          <mxGeometry x="1510" y="740" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="redis-primary-label" value="Primary&#xa;cache.t4g.micro&#xa;AZ-A" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9" vertex="1" parent="1">
          <mxGeometry x="1495" y="800" width="90" height="40" as="geometry" />
        </mxCell>

        <!-- Redis Replica -->
        <mxCell id="redis-replica" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.elasticache;" vertex="1" parent="1">
          <mxGeometry x="1620" y="740" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="redis-replica-label" value="Replica&#xa;cache.t4g.micro&#xa;AZ-B" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9" vertex="1" parent="1">
          <mxGeometry x="1605" y="800" width="90" height="40" as="geometry" />
        </mxCell>

        <!-- Redis Info -->
        <mxCell id="redis-info" value="â€¢ Multi-AZ Failover: âœ…&#xa;â€¢ ì•”í˜¸í™”: in-transit + at-rest" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=8" vertex="1" parent="1">
          <mxGeometry x="1505" y="845" width="190" height="30" as="geometry" />
        </mxCell>

        <!-- ==================== Monitoring & Logging (Bottom) ==================== -->

        <!-- CloudWatch -->
        <mxCell id="cloudwatch" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cloudwatch;" vertex="1" parent="1">
          <mxGeometry x="80" y="1040" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="cloudwatch-label" value="CloudWatch&#xa;Container Insights&#xa;+ Logs" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="59" y="1118" width="120" height="45" as="geometry" />
        </mxCell>

        <!-- Monitoring Stack Info Box -->
        <mxCell id="monitoring-box" value="ëª¨ë‹ˆí„°ë§ &amp; ë¡œê¹… ìŠ¤íƒ" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;verticalAlign=top;fontSize=12;fontStyle=1;fontColor=#333333;dashed=0;" vertex="1" parent="1">
          <mxGeometry x="240" y="1040" width="600" height="120" as="geometry" />
        </mxCell>

        <!-- Prometheus Icon -->
        <mxCell id="prometheus-icon" value="" style="sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#e1d5e7;strokeColor=#9673a6;shape=mxgraph.gcp2.prometheus;" vertex="1" parent="1">
          <mxGeometry x="270" y="1070" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="prometheus-label" value="Prometheus&#xa;ë©”íŠ¸ë¦­ ìˆ˜ì§‘&#xa;(EKS Pod)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9" vertex="1" parent="1">
          <mxGeometry x="255" y="1130" width="90" height="25" as="geometry" />
        </mxCell>

        <!-- Grafana Icon -->
        <mxCell id="grafana-icon" value="Grafana" style="shape=image;html=1;verticalAlign=top;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;imageAspect=0;aspect=fixed;image=https://cdn-icons-png.flaticon.com/512/5969/5969204.png;fontSize=9" vertex="1" parent="1">
          <mxGeometry x="380" y="1070" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="grafana-label-2" value="Grafana&#xa;ëŒ€ì‹œë³´ë“œ&#xa;(EKS Pod)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9" vertex="1" parent="1">
          <mxGeometry x="365" y="1130" width="90" height="25" as="geometry" />
        </mxCell>

        <!-- Loki Icon -->
        <mxCell id="loki-icon" value="Loki" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="490" y="1085" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="loki-label" value="Loki&#xa;ë¡œê·¸ ì§‘ê³„&#xa;(EKS Pod)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9" vertex="1" parent="1">
          <mxGeometry x="475" y="1130" width="90" height="25" as="geometry" />
        </mxCell>

        <!-- HPA Info -->
        <mxCell id="hpa-info" value="HPA (Auto Scaling)&#xa;â€¢ Auth: 2-10 pods&#xa;â€¢ Event: 2-20 pods&#xa;â€¢ Queue: 3-100 pods&#xa;â€¢ Reservation: 3-50 pods&#xa;â€¢ Payment: 2-10 pods" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;verticalAlign=top;fontSize=9;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="600" y="1065" width="220" height="90" as="geometry" />
        </mxCell>

        <!-- ==================== Key Connections ==================== -->

        <!-- ECR to EKS -->
        <mxCell id="arrow-ecr-eks" value="kubectl apply&#xa;image pull" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fontSize=10;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="ecr" target="eks-control-plane">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="439" y="260" />
              <mxPoint x="719" y="260" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- CloudFront to ALB -->
        <mxCell id="arrow-cloudfront-alb" value="API ìš”ì²­" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;fontSize=10;fontColor=#FF0000;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#FF0000;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="cloudfront">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="340" y="410" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1240" y="159" />
              <mxPoint x="1100" y="159" />
              <mxPoint x="1100" y="280" />
              <mxPoint x="340" y="280" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- ALB to Pods -->
        <mxCell id="arrow-alb-pods" value="íŠ¸ëž˜í”½ ë¶„ì‚°" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fontSize=10;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;dashed=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="200" y="450" as="sourcePoint" />
            <mxPoint x="200" y="600" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Pods to RDS -->
        <mxCell id="arrow-pods-rds" value="DB ì¿¼ë¦¬" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fontSize=10;fontColor=#0000FF;startArrow=classic;startFill=1;endArrow=classic;endFill=1;strokeColor=#0000FF;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1020" y="520" as="sourcePoint" />
            <mxPoint x="1480" y="520" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Pods to Redis -->
        <mxCell id="arrow-pods-redis" value="ìºì‹œ" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fontSize=10;fontColor=#00AA00;startArrow=classic;startFill=1;endArrow=classic;endFill=1;strokeColor=#00AA00;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1020" y="780" as="sourcePoint" />
            <mxPoint x="1480" y="780" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Pods to CloudWatch -->
        <mxCell id="arrow-pods-cloudwatch" value="ë©”íŠ¸ë¦­ &amp; ë¡œê·¸" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fontSize=10;fontColor=#666666;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#666666;dashed=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="240" y="950" as="sourcePoint" />
            <mxPoint x="119" y="1040" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- ==================== Legend ==================== -->

        <!-- Legend Box -->
        <mxCell id="legend-box" value="ë²”ë¡€ (Legend)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;verticalAlign=top;fontSize=11;fontStyle=1;fontColor=#333333;align=left;" vertex="1" parent="1">
          <mxGeometry x="900" y="1040" width="280" height="120" as="geometry" />
        </mxCell>

        <mxCell id="legend-traffic" value="ðŸ”´ ì‚¬ìš©ìž íŠ¸ëž˜í”½ (HTTPS)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9" vertex="1" parent="1">
          <mxGeometry x="920" y="1065" width="240" height="15" as="geometry" />
        </mxCell>
        <mxCell id="legend-db" value="ðŸ”µ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9" vertex="1" parent="1">
          <mxGeometry x="920" y="1085" width="240" height="15" as="geometry" />
        </mxCell>
        <mxCell id="legend-cache" value="ðŸŸ¢ ìºì‹œ ì—°ê²° (Redis)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9" vertex="1" parent="1">
          <mxGeometry x="920" y="1105" width="240" height="15" as="geometry" />
        </mxCell>
        <mxCell id="legend-monitoring" value="âš« ëª¨ë‹ˆí„°ë§ &amp; ë¡œê·¸" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9" vertex="1" parent="1">
          <mxGeometry x="920" y="1125" width="240" height="15" as="geometry" />
        </mxCell>

        <!-- ==================== Cost & Capacity Info ==================== -->

        <!-- Capacity Info Box -->
        <mxCell id="capacity-box" value="ìš©ëŸ‰ &amp; ë¹„ìš© ì •ë³´" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;verticalAlign=top;fontSize=11;fontStyle=1;fontColor=#000000;align=left;" vertex="1" parent="1">
          <mxGeometry x="1220" y="1040" width="440" height="120" as="geometry" />
        </mxCell>

        <mxCell id="capacity-info" value="â€¢ EKS Worker Nodes: On-Demand 3ëŒ€ (t3.xlarge) + Spot 3-50ëŒ€ (c6i.xlarge)&#xa;â€¢ ì´ Pod ìš©ëŸ‰: í‰ì‹œ 40ê°œ â†’ í”¼í¬ 200ê°œ (Auto Scaling)&#xa;â€¢ RDS: Writer 1ëŒ€ + Reader 1-3ëŒ€ (Auto Scaling)&#xa;â€¢ Redis: Primary + Replica (Multi-AZ)&#xa;â€¢ ì˜ˆìƒ ë¹„ìš©: í‰ì‹œ $632/ì›”, í”¼í¬ $800/ì›” (Spot í™œìš©)&#xa;â€¢ ì²˜ë¦¬ ìš©ëŸ‰: 10ë§Œ TPS (í‰ì‹œ) â†’ 100ë§Œ+ TPS (í”¼í¬)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9" vertex="1" parent="1">
          <mxGeometry x="1240" y="1065" width="400" height="90" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
